var _createClass=function(){function t(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,s,n){return s&&t(e.prototype,s),n&&t(e,n),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ListButton=function(t){function e(t){_classCallCheck(this,e);var s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return s.state={bgState:"inactive",type:"send"},s.onMouseOver=s.onMouseOver.bind(s),s.onMouseOut=s.onMouseOut.bind(s),s.onMouseDown=s.onMouseDown.bind(s),s.onMouseUp=s.onMouseUp.bind(s),s.props.buttons[s.props.name]=s,s.onClick=s.props.onclick,s}return _inherits(e,React.Component),_createClass(e,[{key:"onClick",value:function(t){}},{key:"onMouseOver",value:function(t){this.setState({bgState:"hover"})}},{key:"onMouseOut",value:function(t){this.setState({bgState:"inactive"})}},{key:"onMouseDown",value:function(t){this.setState({bgState:"active"})}},{key:"onMouseUp",value:function(t){this.setState({bgState:"hover"}),this.onClick(this.props.name)}},{key:"render",value:function(){var t="../svg/send_button.svg";"accept"==this.state.type&&(t="../svg/accept_button.svg"),"cancel"==this.state.type&&(t="../svg/cancel_button.svg");var e="../svg/inactive_bg.svg";return"hover"==this.state.bgState&&(e="../svg/hover_bg.svg"),"active"==this.state.bgState&&(e="../svg/active_bg.svg"),React.createElement("div",{className:"button-wrapper",onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},React.createElement("img",{src:e,className:"challenge-button-bg",width:this.props.height,height:this.props.height,style:{left:this.props.width-this.props.height,top:0}}),React.createElement("img",{src:t,className:"challenge-button",width:this.props.height,height:this.props.height,style:{left:this.props.width-this.props.height,top:0}}))}}]),e}(),ListItem=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return _inherits(e,React.Component),_createClass(e,[{key:"render",value:function(t){return React.createElement("div",{className:"list-item-wrapper"},React.createElement("span",{className:"list-name",style:{width:this.props.width-this.props.height,height:this.props.height}},this.props.name),React.createElement(ListButton,{width:this.props.width,height:this.props.height,name:this.props.name,buttons:this.props.buttons,onclick:this.props.onclick}))}}]),e}(),List=function(t){function e(t){_classCallCheck(this,e);var s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return s.state={elems:users_online.copyWithin()},s.buttons={},s.onclick=s.onclick.bind(s),s.props.elements.users_list=s,s}return _inherits(e,React.Component),_createClass(e,[{key:"onclick",value:function(t){users_online&&users_online.includes(t)&&("send"==this.buttons[t].state.type?(ws.send(JSON.stringify({type:"play-request",name:t})),this.buttons[t].setState({type:"cancel"})):"accept"==this.buttons[t].state.type?ws.send(JSON.stringify({type:"play-request",name:t})):"cancel"==this.buttons[t].state.type&&(ws.send(JSON.stringify({type:"play-request-cancel",name:t})),this.buttons[t].setState({type:"send"})))}},{key:"update",value:function(){this.setState({elems:users_online.copyWithin()})}},{key:"render",value:function(){var t=[],e=0,s=!0,n=!1,o=void 0;try{for(var i,r=this.state.elems[Symbol.iterator]();!(s=(i=r.next()).done);s=!0){var a=i.value;t.push(React.createElement(ListItem,{name:a,width:this.props.width-6,height:this.props.elemHeight,buttons:this.buttons,onclick:this.onclick,key:e++}))}}catch(t){n=!0,o=t}finally{try{!s&&r.return&&r.return()}finally{if(n)throw o}}return React.createElement("div",{className:"list-wrapper",style:{left:(window.innerWidth-this.props.width)/2,top:50,height:window.innerHeight-100}},React.createElement("span",null,t.length>0?"Players online:":"Nobody's online right now :("),t)}}]),e}();
